diff -u OTW.TXT OTW1C
--- OTW.TXT
+++ OTW1C
@@ -1190,6 +1190,10 @@
 'IF WIN_WIDTH[NUWID]!=WIN_AW[NUWID]THEN INC W,WIN_FW1[NUWID]
 'IF WIN_HEIGHT[NUWID]!=WIN_AH[NUWID]THEN INC H,WIN_FH1[NUWID]
 'GFILL WIN_RFX[NUWID],WIN_RFY[NUWID]+240,WIN_RFX[NUWID]+W,WIN_RFY[NUWID]+240+H,ShortToRGB(NUWID)
+ IF WIN_AFW[NUWID]<0||WIN_AFH[NUWID]<0THEN
+  GCLIP 1,0,0,400,239
+  RETURN
+ ENDIF
  GFILL WIN_RFX[NUWID],WIN_RFY[NUWID]+240,WIN_RFX[NUWID]+WIN_AFW[NUWID],WIN_RFY[NUWID]+240+WIN_AFH[NUWID],ShortToRGB(NUWID)
  GCLIP 1,0,0,400,239
 END
@@ -1276,14 +1280,14 @@
 END
 COMMON DEF OTW_CLIPWindow NUWID
  VAR PNUWID=WIN_PARENT[NUWID]
- IF WIN_FX[PNUWID]>WIN_RX[NUWID]THEN
-  WIN_RX[NUWID]=WIN_FX[PNUWID]
+ IF WIN_RFX[PNUWID]>WIN_RX[NUWID]THEN
+  WIN_RX[NUWID]=WIN_RFX[PNUWID]
   IF WIN_RFX[PNUWID]>WIN_RFX[NUWID]THEN
    WIN_RFX[NUWID]=WIN_RFX[PNUWID]
   ENDIF
  ENDIF
- IF WIN_FY[PNUWID]>WIN_RY[NUWID]THEN
-  WIN_RY[NUWID]=WIN_FY[PNUWID]
+ IF WIN_RFY[PNUWID]>WIN_RY[NUWID]THEN
+  WIN_RY[NUWID]=WIN_RFY[PNUWID]
   IF WIN_RFY[PNUWID]>WIN_RFY[NUWID]THEN
    WIN_RFY[NUWID]=WIN_RFY[PNUWID]
   ENDIF
@@ -1298,9 +1302,9 @@
  IF E1>E2 THEN
   DEC WIN_AW[NUWID],E1-E2
  ENDIF
- IF WIN_AX[NUWID]<WIN_FX[PNUWID]THEN
+ IF WIN_AX[NUWID]<WIN_RFX[PNUWID]THEN
   WIN_AW[NUWID]=WIN_WIDTH[NUWID]
-  DEC WIN_AW[NUWID],WIN_FX[PNUWID]-WIN_AX[NUWID]'-WIN_FW2[PNUWID]-WIN_FW1[PNUWID]
+  DEC WIN_AW[NUWID],WIN_RFX[PNUWID]-WIN_AX[NUWID]'-WIN_FW2[PNUWID]-WIN_FW1[PNUWID]
  ENDIF
  E1=WIN_RY[NUWID]+WIN_HEIGHT[NUWID]
  E2=WIN_RY[PNUWID]+WIN_AH[PNUWID]
@@ -1313,9 +1317,9 @@
  IF E1>E2 THEN
   DEC WIN_AH[NUWID],E1-E2
  ENDIF
- IF WIN_AY[NUWID]<WIN_FY[PNUWID]THEN
+ IF WIN_AY[NUWID]<WIN_RFY[PNUWID]THEN
   WIN_AH[NUWID]=WIN_HEIGHT[NUWID]
-  DEC WIN_AH[NUWID],WIN_FY[PNUWID]-WIN_AY[NUWID]'WIN_FH1[NUWID]
+  DEC WIN_AH[NUWID],WIN_RFY[PNUWID]-WIN_AY[NUWID]'WIN_FH1[NUWID]
  ENDIF
 
  VAR W=WIN_AW[NUWID]
@@ -1329,7 +1333,11 @@
   DEC H,WIN_FH2[NUWID]
  ELSE
   IF WIN_HEIGHT[NUWID]-H>=WIN_FH1[NUWID]THEN
+   IF WIN_Y[NUWID]<0THEN
     DEC H,WIN_FH2[NUWID]-WIN_FH1[NUWID]
+   ELSE
+    DEC H,WIN_FH1[NUWID]'WIN_FH2[NUWID]-WIN_FH1[NUWID]
+   ENDIF
 
 '   IF WIN_RFY[NUWID]==WIN_RY[NUWID]THEN
 '    DEC H,WIN_FH1[NUWID]
@@ -1337,9 +1345,22 @@
 '    DEC H,WIN_FH2[NUWID]-WIN_FH1[NUWID]
 '   ENDIF
   ELSE
-   DEC H,WIN_FH1[NUWID]-(WIN_HEIGHT[NUWID]-H)+1
+   DEC H,WIN_FH1[NUWID]-(WIN_HEIGHT[NUWID]-H)+WIN_FH2[NUWID]-WIN_FH1[NUWID]
   ENDIF
  ENDIF
+ IF WIN_RFX[NUWID]+W>WIN_RFX[PNUWID]+WIN_AFW[PNUWID]THEN
+  DEC W,(WIN_RFX[NUWID]+W)-(WIN_RFX[PNUWID]+WIN_AFW[PNUWID])
+ ENDIF
+ IF WIN_RX[NUWID]+WIN_AW[NUWID]>WIN_RFX[PNUWID]+WIN_AFW[PNUWID]THEN
+  DEC WIN_AW[NUWID],(WIN_RX[NUWID]+WIN_AW[NUWID])-(WIN_RFX[PNUWID]+WIN_AFW[PNUWID])
+ ENDIF
+
+ IF WIN_RFY[NUWID]+H>WIN_RFY[PNUWID]+WIN_AFH[PNUWID]THEN
+  DEC H,(WIN_RFY[NUWID]+H)-(WIN_RFY[PNUWID]+WIN_AFH[PNUWID])
+ ENDIF
+ IF WIN_RY[NUWID]+WIN_AH[NUWID]>WIN_RFY[PNUWID]+WIN_AFH[PNUWID]THEN
+  DEC WIN_AH[NUWID],(WIN_RY[NUWID]+WIN_AH[NUWID])-(WIN_RFY[PNUWID]+WIN_AFH[PNUWID])
+ ENDIF
  WIN_AFW[NUWID]=W
  WIN_AFH[NUWID]=H
  WIN_HIDE[NUWID]=0
@@ -1462,16 +1483,19 @@
     IF MOVEF THEN
      WIN_AX[B]=WIN_AX[B]+MX
      WIN_AY[B]=WIN_AY[B]+MY
-     WIN_FX[B]=WIN_FX[B]+MX
-     WIN_FY[B]=WIN_FY[B]+MY
-     WIN_RFX[B]=WIN_RFX[B]+MX
-     WIN_RFY[B]=WIN_RFY[B]+MY
-     WIN_RX[B]=WIN_RX[B]+MX
-     WIN_RY[B]=WIN_RY[B]+MY
+     WIN_FX[B]=WIN_AX[B]+WIN_FW1[B]'+MX
+     WIN_FY[B]=WIN_AY[B]+WIN_FH1[B]'+MY
+     WIN_RFX[B]=WIN_FX[B]'+MX
+     WIN_RFY[B]=WIN_FY[B]'+MY
+     WIN_RX[B]=WIN_AX[B]'+MX
+     WIN_RY[B]=WIN_AY[B]'+MY
+     OTW_CLIPWindow B
      MOVEF=1
     ENDIF
-    IF!WIN_HIDE[B]THEN VOID RepaintWindow(B OR(WIN_WID[B]<<WIDSHIFT))
-    OTW_DrawMap B
+    IF!WIN_HIDE[B]THEN
+     VOID RepaintWindow(B OR(WIN_WID[B]<<WIDSHIFT))
+     OTW_DrawMap B
+    ENDIF
 
     IF WIN_CHILD[B]THEN
      IF B==NUWID THEN MOVEF=1
@@ -1794,7 +1818,7 @@
  OTW_MOUSECLIPY2=H+Y
 END
 DEF MouseClipDef
- MouseClip 0,0,400,240
+ MouseClip 0,0,399,239
 END
 COMMON DEF GetTextWidth(STR$)
  RETURN LEN(STR$)*8
@@ -1834,12 +1858,15 @@
  VAR AY=WIN_RFY[NUWID]'WIN_FH1[NUWID]
  VAR W=WIN_AFW[NUWID]
  VAR H=WIN_AFH[NUWID]
+ IF W<0||H<0THEN RETURN WIN_NODRAW
  GPAGE OTW_SP,OTW_BP
+'OTW1C 3.1 の GCLIP BUG の ため
  GCLIP 1,AX,AY,AX+W,AY+H
  IF WIN_BEGIN[NUWID]>=2THEN RETURN 0
  WIN_BEGIN[NUWID]=TRUE
  GB_WND=NUWID
- GCLS
+' GCLS
+ GFILL AX,AY,AX+W,AY+H,0
  RETURN 0
 END
 DEF ReGBeginWindow(WND)
@@ -1855,12 +1882,14 @@
  WIN_BEGIN[NUWID]=TRUE+TRUE
  VAR AX=WIN_RX[NUWID]
  VAR AY=WIN_RY[NUWID]
- VAR W=WIN_WIDTH[NUWID]
- VAR H=WIN_HEIGHT[NUWID]
+ VAR W=WIN_AW[NUWID]'WIN_WIDTH[NUWID]
+ VAR H=WIN_AH[NUWID]'WIN_HEIGHT[NUWID]
  GB_WND=NUWID
  GPAGE OTW_SP,OTW_BP
- GCLIP 1,AX,AY,AX+W,AY+H
- GCLS' RGB(224,224,224)
+'OTW1C 3.1 の GCLIP BUG の ため
+' GCLIP 1,AX,AY,AX+W,AY+H
+' GCLS' RGB(224,224,224)
+ GFILL AX,AY,AX+W,AY+H,0
  RETURN 0
 END
 COMMON DEF GEndWindow(WND)
@@ -1879,8 +1908,8 @@
  IF WIN_BEGIN[NUWID]!=2THEN
   AX=WIN_RFX[NUWID]
   AY=WIN_RFY[NUWID]
-  IF W==WIN_WIDTH[NUWID]THEN DEC W,WIN_FW2[NUWID]'-WIN_FW1[NUWID]
-  IF H==WIN_HEIGHT[NUWID]THEN DEC H,WIN_FH2[NUWID]'-WIN_FH1[NUWID]
+  W=WIN_AFW[NUWID]
+  H=WIN_AFH[NUWID]
  ENDIF
  WIN_BEGIN[NUWID]=FALSE
  GCLIP 1,AX,AY,AX+W,AY+H
@@ -1954,6 +1983,16 @@
  VAR AY=WIN_FY[WND AND NUWIDMASK]
  GCIRCLE X+AX,Y+AY,R,COL
 END
+COMMON DEF GCIRCLE2Window WND,X,Y,R,S,E,F,COL
+ VAR AX=WIN_FX[WND AND NUWIDMASK]
+ VAR AY=WIN_FY[WND AND NUWIDMASK]
+ GCIRCLE X+AX,Y+AY,R,S,E,F,COL
+END
+COMMON DEF GTRIWindow WND,X,Y,X2,Y2,X3,Y3,COL
+ VAR AX=WIN_FX[WND AND NUWIDMASK]
+ VAR AY=WIN_FY[WND AND NUWIDMASK]
+ GTRI X+AX,Y+AY,X2+AX,Y2+AY,X3+AX,Y3+AY,COL
+END
 COMMON DEF GLOADWindow WND,X,Y,W,H,IMG[],FLG,MODE
  VAR AX=WIN_FX[WND AND NUWIDMASK]
  VAR AY=WIN_FY[WND AND NUWIDMASK]
@@ -2000,6 +2039,13 @@
  WEND
 END
 COMMON DEF GPRINTWindow WND,X,Y,STR$,COL
+ INC X,WIN_FX[WND AND NUWIDMASK]
+ INC Y,WIN_FY[WND AND NUWIDMASK]
+ IF COL AND&HFF000000THEN
+  GPUTCHR X,Y,STR$,1,1,COL
+ ENDIF
+ RETURN
+'3.0.x
  VAR L=LEN(STR$)-1,A,I
  FOR I=0TO L
   A=ASC(STR$[I])
@@ -2009,6 +2055,16 @@
  NEXT
 END
 COMMON DEF GPRINTBWindow WND,X,Y,STR$,COL,BC
+ INC X,WIN_FX[WND AND NUWIDMASK]
+ INC Y,WIN_FY[WND AND NUWIDMASK]
+ IF BC AND&HFF000000THEN
+  GFILL X,Y,X+LEN(STR$)*8-1,Y+7,BC
+ ENDIF
+ IF COL AND&HFF000000THEN
+  GPUTCHR X,Y,STR$,1,1,COL
+ ENDIF
+ RETURN
+'3.0.x
  VAR L=LEN(STR$)-1,A,I
  FOR I=0TO L
   A=ASC(STR$[I])
@@ -2022,6 +2078,9 @@
  VAR AX=WIN_FX[WND AND NUWIDMASK]
  VAR AY=WIN_FY[WND AND NUWIDMASK]
  X=X+AX:Y=Y+AY
+ GPUTCHR X,Y,CHR$(A),1,1,COL
+ RETURN
+'3.0.x
  OTW_FNTPAL[0]=0
  OTW_FNTPAL[1]=COL
  COPY OTW_FNTTMP,0,OTW_FNT,64*OTW_FNTTBL[A],64
@@ -2032,6 +2091,12 @@
  VAR AX=WIN_FX[WND AND NUWIDMASK]
  VAR AY=WIN_FY[WND AND NUWIDMASK]
  X=X+AX:Y=Y+AY
+ IF BC AND&HFF000000THEN
+  GFILL X,Y,X+7,Y+7,BC
+ ENDIF
+ GPUTCHR X,Y,CHR$(A),1,1,COL
+ RETURN
+'3.0.x
  OTW_FNTPAL[0]=BC
  OTW_FNTPAL[1]=COL
  COPY OTW_FNTTMP,0,OTW_FNT,64*OTW_FNTTBL[A],64
@@ -2050,13 +2115,13 @@
  VAR E=GBeginFrameWindow(WND)
  IF E THEN RETURN
  GCLSWindow WND,RGB(224,224,224)
- GFILLWindow WND,0,-GetWindowFrameHeight(WND),GetWindowFrameWidth(WND),-1,RGB(0,0,255)
+ GFILLWindow WND,0,-GetWindowFrameHeight(WND)+1,GetWindowFrameWidth(WND)-2,-1,RGB(0,0,255)
  GPRINTWindowCC WND,1,-GetWindowFrameHeight(WND)+2,GetWindowName$(WND),15
  VAR H=GetWindowFrameHeight(WND)
  VAR W=GetWindowFrameWidth(WND)
  VAR C=RGB(224,224,224)
  GFILLWindow WND,W-09-1,-H+1,W-1,-H+10,RGB(224,0,0)
- GLINEWindow WND,-1,-1,W+1,-1,RGB(0,0,0)
+ GLINEWindow WND,-1,-1,W-2,-1,RGB(0,0,0)
 'GLINEWindow WND,W-08-1,-H+3,W-2-1,-3,C
 'GLINEWindow WND,W-7-1,-H+3,W-1-1,-3,C
 'GLINEWindow WND,W-2-1,-H+3,W-8-1,-3,C
@@ -2071,7 +2136,10 @@
 'GLINEWindow WND,-1,-H,-1,H2-1,RGB(224,224,224)
 'GLINEWindow WND,W-1,-H,W-1,H2,RGB(0,0,0)
 'GLINEWindow WND,-1,H2,W-1,H2,RGB(0,0,0)
+'?W
  GBOXWindow WND,-1,-H,W-1,H2,RGB(0,0,0)
+' ?GetWindowName$(WND),W,W-1+2
+
  IF WIN_MENU[NUWID]THEN
   GLINEWindow WND,0,-11,W-2,-11,RGB(0,0,0)
   GFILLWindow WND,0,-10,W-2,-2,RGB(224,224,224)
@@ -2206,8 +2274,8 @@
 END
 DEF WindowDragFrame WND,MX,MY,A1X,A2Y
  VAR NUWID=WND AND NUWIDMASK
- DEC MX,WIN_RFX[WIN_PARENT[NUWID]]'WIN_Y[NUWID]WIN_FW1[WIN_PARENT[NUWID]]
- DEC MY,WIN_RFY[WIN_PARENT[NUWID]]'WIN_FH1[WIN_PARENT[NUWID]]
+ DEC MX,WIN_AX[WIN_PARENT[NUWID]]+WIN_FW1[WIN_PARENT[NUWID]]'WIN_Y[NUWID]WIN_FW1[WIN_PARENT[NUWID]]
+ DEC MY,WIN_AY[WIN_PARENT[NUWID]]+WIN_FH1[WIN_PARENT[NUWID]]'WIN_FH1[WIN_PARENT[NUWID]]
  VAR X=MX+A1X
  VAR Y=MY+A2Y
  VAR E=MoveWindow(WND,X,Y)
@@ -2616,6 +2684,9 @@
 VAR OTW_KY2
 VAR OTW_USEBTN
 VAR OTW_USEMEM
+COMMON DEF S_OTW S
+ BGMPLAY"L1C>B<C:1L1EDE:2L1GFG:3L1>CGC
+END
 COMMON DEF I_OTW
  IF!OTW_INIT THEN
   VAR FM=FREEMEM
@@ -2672,6 +2743,7 @@
   NEXT
   GCLS RGB(0,224,224)
   GCLS RGB(0,128,128)
+  GCLS RGB(191,191,191)
   GPAGE OTW_SP,OTW_DP
   GPRIO 1023
  ' GCLS RGB(0,192,128)
@@ -2798,9 +2870,9 @@
  VAR NUWID,E
  VAR BTN=UpdateButton()
  IF MOVEMOUSE||BTN THEN
-'  IF WIN_DRAGHANDLER_USE THEN
-'   CALL WIN_DRAGHANDLER$,WIN_DRAGHANDLER_WND,OTW_MOUSEX,OTW_MOUSEY,WIN_DRAGHANDLER_A1,WIN_DRAGHANDLER_A2
-'ENDIF
+  IF WIN_DRAGHANDLER_USE THEN
+   CALL WIN_DRAGHANDLER$,WIN_DRAGHANDLER_WND,OTW_MOUSEX,OTW_MOUSEY,WIN_DRAGHANDLER_A1,WIN_DRAGHANDLER_A2
+ENDIF
   NUWID=OTWGetOvMouseNUWID()
  ENDIF
  IF BTN THEN
@@ -3135,7 +3207,7 @@
   OTW_MOUSEY=OTW_MOUSEY+Y-OTW_MOUSEOLDY
    IF OTW_MOUSEX<OTW_MOUSECLIPX THEN OTW_MOUSEX=OTW_MOUSECLIPX
    IF OTW_MOUSEY<OTW_MOUSECLIPY THEN OTW_MOUSEY=OTW_MOUSECLIPY
-   IF OTW_MOUSEX>=OTW_MOUSECLIPX2 THEN OTW_MOUSEX=OTW_MOUSECLIPX2-1
+   IF OTW_MOUSEX>=OTW_MOUSECLIPX2 THEN OTW_MOUSEX=OTW_MOUSECLIPX2
    IF OTW_MOUSEY>=OTW_MOUSECLIPY2 THEN OTW_MOUSEY=OTW_MOUSECLIPY2
    SPOFS OTW_MOUSESP,OTW_MOUSEX,OTW_MOUSEY
    OTW_MOUSEX#=OTW_MOUSEX
@@ -4247,6 +4319,7 @@
 VAR OTYFILES$[0]
 VAR OTYFILICONCTL
 VAR OTYFILABOUTCTL
+VAR OTYFILLBLCTL
 COMMON DEF OTYFILICONCTLPainter W,C,T,_,__
  IF GBeginWindow(W)THEN RETURN
  GCLSWindow W,RGB(224,224,224)
@@ -4278,6 +4351,10 @@
  S$="OK"
  NewWindow GetButtonControl(),S$,(WI-LEN(S$)*8)/2+2,24,LEN(S$)*8+2,12,WND,0 OUT W,E
 END
+COMMON DEF OTYFILICONCTLMouse WND,CTL,T,A1,A2
+?GetWindowName$(GetWindowVar(WND,2))
+BEEP 
+END
 COMMON DEF OTYFILNOTIF WND,CTL,T,ID,POS
  IF ID<=5THEN
   VAR E=NewModalDialogBox(OTYFILABOUTCTL,"ABOUT",128,40,WND)
@@ -4340,9 +4417,12 @@
  VAR WND,E
  IF!OTYFILCTL THEN
   ExtendControl "Files",GetWindowControl() OUT OTYFILCTL,E
+  ExtendControl "FilesLabel",GetLabelControl() OUT OTYFILLBLCTL,E
   E=SetControlNotifHandler(OTYFILCTL,"OTYFILNOTIF")
   NewControl "ICON" OUT OTYFILICONCTL,E
   E=SetControlPainter(OTYFILICONCTL,"OTYFILICONCTLPainter")
+  E=SetControlLMouseDownHandler(OTYFILICONCTL,"OTYFILICONCTLMouse")
+  E=SetControlLMouseDownHandler(OTYFILLBLCTL,"OTYFILICONCTLMouse")
   RC_OTYFIL
   ExtendControl "FilesAbout",GetWindowControl() OUT OTYFILABOUTCTL,E
   E=SetControlNotifHandler(OTYFILABOUTCTL,"OTYFILABOUTNOTIF")
@@ -4368,13 +4448,16 @@
  VAR C=CEIL(H/40.0)+1
  VAR L=R*C
  IF LEN(OTYFILES$)<=L THEN L=LEN(OTYFILES$)-1
+ VAR ICN
  FOR I=0TO L'LEN(OTYFILES$)-1
   IF X+32+4>W THEN INC Y,40:X=8
 '  IF Y+16>=H THEN BREAK
-  NewWindow GetLabelControl(),RIGHT$(OTYFILES$[I],LEN(OTYFILES$[I])-1),X-8,Y+16,32,24,WND,0 OUT LBL,E
+  NewWindow OTYFILLBLCTL,RIGHT$(OTYFILES$[I],LEN(OTYFILES$[I])-1),X-8,Y+16,32,24,WND,0 OUT LBL,E
   SetLabelAlignCenter LBL
-  NewWindow OTYFILICONCTL,"",X,Y,15,15,WND,0 OUT LBL,E
-  IF OTYFILES$[I][0]==" "THEN SetWindowVar LBL,1,1
+  SetWindowVar LBL,2,LBL
+  NewWindow OTYFILICONCTL,"",X,Y,15,15,WND,0 OUT ICN,E
+  IF OTYFILES$[I][0]==" "THEN SetWindowVar ICN,1,1
+  SetWindowVar ICN,2,LBL
   INC X,32+4
  NEXT
  VAR SCR
@@ -4503,6 +4586,8 @@
  FOR I=0TO 15
   READ PAL[I]
  NEXT
+ RETURN
+ '3.0.X
  OTW_FNT=NewArray2(1024,64)
  OTW_FNTTMP=NewArray(64)
  OTW_FNTPAL=NewArray(2)
@@ -4633,3 +4718,34 @@
 
 DATA -1
 END
+VAR TRIANCTL
+COMMON DEF DrawSquare WND,X1,Y1,X2,Y2,X3,Y3,X4,Y4,COL
+ GTRIWindow WND,X2,Y2,X1,Y1,X4,Y4,COL'RGB(0,255,0)'COL
+ GTRIWindow WND,X1,Y1,X4,Y4,X3,Y3,COL
+END
+COMMON DEF TRIANPAINT WND,CTL,TYP,A1,A2
+ VAR E=CallBaseControlHandler(WND,CTL,TYP,A1,A2)
+ E=GBeginWindow(WND)
+' DrawSquare WND,32,0,                                         0,63,                                         63,0,                                         32,63,-1
+' DrawSquare WND,8,8,                                         0,63,                                         32,16,                                         32,63,-1
+ DrawSquare WND,8,8,0,63,32,16,32,63,0
+ E=GEndWindow(WND)
+END
+COMMON DEF I_TRIAN
+IF!CHKCALL("IsWinRunning")||!IsWinRunning()THEN
+  PrintConsole "Require window system"+LF$()
+  ExitProcess 1
+  RETURN
+ ENDIF
+ VAR WND,E
+ IF!TRIANCTL THEN
+  ExtendControl "TRIAN",GetWindowControl() OUT TRIANCTL,E
+  E=SetControlPainter(TRIANCTL,"TRIANPAINT")
+ ENDIF
+ NewTopLevelWindow TRIANCTL,"TRIAN",64,64 OUT WND,E
+ SetProcessVar WND
+END
+COMMON DEF L_TRIAN
+ IF UpdateWindow(GetProcessVar())THEN ExitProcess 1
+END
+
