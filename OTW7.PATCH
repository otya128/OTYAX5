diff -u OTW.TXT OTW7
--- OTW.TXT
+++ OTW7
@@ -50,7 +50,23 @@
 VAR OTW_SP
 'BUFFER PAGE
 VAR OTW_BP
+VAR OTW_WIN_FWIDTH
+VAR OTW_WIN_FHEIGHT
+VAR OTW_WIN_FWIDTH2
+VAR OTW_WIN_FHEIGHT2
+'
+'          
+'
+'          
+'          
+'          
+'          
+'          
+'
+'⇔⇔
+'
 DEF OTW_WIN_INITARRAY
+ OTW_WIN_FHEIGHT=10
  WIN_MAX=256
  WIN_MSGMAX=64
  WIN_MSGARGSIZE=3
@@ -98,6 +114,7 @@
 VAR CTL_PAINTHANDLER
 VAR CTL_LBTNUPHANDLER
 VAR CTL_LBTNDWNHANDLER
+VAR CTL_DRWFRMHANDLER
 VAR CTL_WINDOWCTL
 DEF OTW_CTL_INITARRAY
  CTL_MAX=64
@@ -114,6 +131,7 @@
  CTL_PAINTHANDLER=0
  CTL_LBTNDWNHANDLER=1
  CTL_LBTNUPHANDLER=2
+ CTL_DRWFRMHANDLER=3
  E=SetControlPainter(CTL_WINDOWCTL,"WindowPainter")
  E=SetControlLMouseUpHandler(CTL_WINDOWCTL,"WindowLMouseUP")
 END
@@ -293,10 +311,10 @@
  WIN_AY[NUWID]=WIN_TOPLEVELY
  GFILL WIN_AX[NUWID],WIN_AY[NUWID]+240,WIN_AX[NUWID]+WIN_WIDTH[NUWID],WIN_AY[NUWID]+WIN_HEIGHT[NUWID]+240,ShortToRGB(NUWID)
  GCLIP 1,0,0,400,240
- SPSET SP,WIN_AX[NUWID],WIN_AY[NUWID],WIN_WIDTH[NUWID]+1,WIN_HEIGHT[NUWID]+1,1
- SPOFS SP,WIN_AX[NUWID],WIN_AY[NUWID],0
+ SPSET SP,WIN_AX[NUWID],WIN_AY[NUWID]-OTW_WIN_FHEIGHT,WIN_WIDTH[NUWID]+1,WIN_HEIGHT[NUWID]+1+OTW_WIN_FHEIGHT,1
+ SPOFS SP,WIN_AX[NUWID],WIN_AY[NUWID]-OTW_WIN_FHEIGHT,0
  SPSHOW SP
- SPSET FRAME,0
+'SPSET FRAME,0
  SPSCALE FRAME,WIN_WIDTH[NUWID]+3,WIN_HEIGHT[NUWID]+11
  SPOFS FRAME,WIN_AX[NUWID]-1,WIN_AY[NUWID]-9,0
  SPVAR SP,0,WND
@@ -393,7 +411,7 @@
  VAR W=WIN_WIDTH[NUWID]
  VAR H=WIN_HEIGHT[NUWID]
  GPAGE OTW_SP,OTW_BP
- GCLIP 1,0,0,W,H
+ GCLIP 1,AX,AY,AX+W,AY+H
  GCLS
  RETURN 0
 END
@@ -413,7 +431,9 @@
  IF WIN_CHILD[NUWID]THEN
   PNUWID=WIN_CHILD[NUWID]
   WHILE PNUWID
-GCOPY OTW_DP,WIN_AX[PNUWID]+AX,WIN_AY[PNUWID]+AY,WIN_AX[PNUWID]+WIN_WIDTH[PNUWID],WIN_AY[PNUWID]+WIN_HEIGHT[PNUWID],WIN_AX[PNUWID]-AX,WIN_AY[PNUWID]-AY,0
+   GCOPY OTW_DP,WIN_AX[PNUWID],WIN_AY[PNUWID],WIN_AX[PNUWID]+WIN_WIDTH[PNUWID],WIN_AY[PNUWID]+WIN_HEIGHT[PNUWID],WIN_AX[PNUWID],WIN_AY[PNUWID],0
+
+'GCOPY OTW_DP,WIN_AX[PNUWID]+AX,WIN_AY[PNUWID]+AY,WIN_AX[PNUWID]+WIN_WIDTH[PNUWID],WIN_AY[PNUWID]+WIN_HEIGHT[PNUWID],WIN_AX[PNUWID]-AX,WIN_AY[PNUWID]-AY,0
 '   GCOPY OTW_DP,WIN_AX[PNUWID]+AX,WIN_AY[PNUWID]+AY,WIN_AX[PNUWID]+WIN_WIDTH[PNUWID],WIN_AY[PNUWID]+WIN_HEIGHT[PNUWID],0,0,0  
    PNUWID=WIN_NEXT[PNUWID]
   WEND
@@ -430,31 +450,42 @@
   ENDIF
   ?WIN_AY[PNUWID],WIN_AX[PNUWID]+AX,WIN_AY[PNUWID]+AY,WIN_AX[PNUWID]+WIN_WIDTH[PNUWID]-AX,WIN_AY[PNUWID]+WIN_HEIGHT[PNUWID]-AY
 '  
-  IF WIN_AX[PNUWID]THEN
-'   GCOPY OTW_DP,WIN_AX[PNUWID],WIN_AY[PNUWID],WIN_AX[PNUWID]+WIN_WIDTH[PNUWID],WIN_AY[PNUWID]+WIN_HEIGHT[PNUWID],-WIN_AX[PNUWID],-WIN_AY[PNUWID],0
-  ELSE
-   GCOPY OTW_DP,WIN_AX[PNUWID]+AX,WIN_AY[PNUWID]+AY,WIN_AX[PNUWID]+WIN_WIDTH[PNUWID],WIN_AY[PNUWID]+WIN_HEIGHT[PNUWID],0,0,0
-  ENDIF
+' IF WIN_AX[PNUWID]THEN
+'   GCOPY OTW_DP,WIN_AX[PNUWID],WIN_AY[PNUWID],WIN_AX[PNUWID]+WIN_WIDTH[PNUWID],WIN_AY[PNUWID]+WIN_HEIGHT[PNUWID],-WIN_AX[PNUWID]-WIN_WIDTH[PNUWID],-WIN_AY[PNUWID]-WIN_HEIGHT[PNUWID],0
+' ELSE
+'  GCOPY OTW_DP,WIN_AX[PNUWID]+AX,WIN_AY[PNUWID]+AY,WIN_AX[PNUWID]+WIN_WIDTH[PNUWID],WIN_AY[PNUWID]+WIN_HEIGHT[PNUWID],0,0,0
+' ENDIF
+   GCOPY OTW_DP,WIN_AX[PNUWID],WIN_AY[PNUWID],WIN_AX[PNUWID]+WIN_WIDTH[PNUWID],WIN_AY[PNUWID]+WIN_HEIGHT[PNUWID],WIN_AX[PNUWID],WIN_AY[PNUWID],0
   _NUWID=PNUWID
   PNUWID=WIN_NEXT[PNUWID]
  WEND
  GCLIP 1,0,0,400,240
  GPAGE OTW_SP,OTW_DP
 ?AX,AY,W,H
- GCOPY OTW_BP,0,0,W,H,AX,AY,0
-'DIALOG"A
+' GCOPY OTW_BP,0,0,W,H,AX,AY,0
+ GCOPY OTW_BP,AX,AY,AX+W,AY+H,AX,AY,0
+ DIALOG"A
  RETURN 0
 END
 COMMON DEF GPSETWindow WND,X,Y,COL
- GPSET X,Y,COL
+ VAR AX=WIN_AX[WND AND NUWIDMASK]
+ VAR AY=WIN_AY[WND AND NUWIDMASK]
+ GPSET X+AX,Y+AY,COL
 END
 COMMON DEF GFILLWindow WND,X,Y,X2,Y2,COL
- GFILL X,Y,X2,Y2,COL
+ VAR AX=WIN_AX[WND AND NUWIDMASK]
+ VAR AY=WIN_AY[WND AND NUWIDMASK]
+ GFILL X+AX,Y+AY,X2+AX,Y2+AY,COL
 END
 COMMON DEF GBOXWindow WND,X,Y,X2,Y2,COL
- GBOX X,Y,X2,Y2,COL
+ VAR AX=WIN_AX[WND AND NUWIDMASK]
+ VAR AY=WIN_AY[WND AND NUWIDMASK]
+ GBOX X+AX,Y+AY,X2+AX,Y2+AY,COL
 END
 COMMON DEF GPRINTWindow WND,X,Y,STR$
+ VAR AX=WIN_AX[WND AND NUWIDMASK]
+ VAR AY=WIN_AY[WND AND NUWIDMASK]
+ X=X+AX:Y=Y+AY
  VAR L=LEN(STR$)-1,C$,A,BX,BY,I
  FOR I=0TO L
   C$=MID$(STR$,I,1)
@@ -482,13 +513,28 @@
 DEF WindowLMouseUP WND,A1,A2
  VAR E=FrontWindow(WND)
 END
+VAR OTW_MOUSESIZE
 DEF OTW_INITSP
- GFILL 408,0,416,8,-1
+ GPSET 408,0,-1
  SPDEF 0,408,0,1,1,1
+ VAR FORE=RGB(0,0,0)
+ VAR BACK=RGB(255,255,255)
+ GCOLOR BACK'FORE
+ VAR SC#=1,B=416
+ GLINE B,0*SC#,B,14*SC#
+ GLINE B,0*SC#,B+10*SC#,10*SC#
+ GLINE B,14*SC#,B+3*SC#,11*SC#
+ GLINE B+6*SC#,16*SC#,B+3*SC#,11*SC#
+ GLINE B+10*SC#,10*SC#,B+6*SC#,10*SC#
+'GLINE B+6*SC#,10*SC#,B+8*SC#,15*SC#
+ GLINE B+6*SC#,10*SC#,B+8*SC#,15*SC#
+ GLINE B+6*SC#,16*SC#,B+7*SC#,16*SC#'7,16
+ SPDEF 290,B,0,10*SC#,18*SC#
 END
 VAR WIN_ROOTCTL
 VAR TSTWND,TSTCTL
 VAR TSTWND2
+VAR TSTWND3
 
 VAR OTW_MOUSELBTN
 VAR OTW_MOUSERBTN
@@ -503,7 +549,8 @@
   OTW_SP=0
   OTW_BP=1
   GPAGE OTW_SP,OTW_DP
-  'GCLS' RGB(0,0,255)
+' GCLS RGB(0,0,255)
+  GCLS 
   OTW_INITSP
   XSCREEN 2
 
@@ -521,6 +568,7 @@
   ExtendControl "HELLO",GetWindowControl() OUT TSTCTL,E
   NewTopLevelWindow TSTCTL,"HELLO",64,64 OUT TSTWND,E
   NewTopLevelWindow TSTCTL,"HELLO",64,64 OUT TSTWND2,E
+'  NewTopLevelWindow TSTCTL,"HELLO",64,64 OUT TSTWND3,E
   E=SetControlPainter(TSTCTL,"HELLOPainter")
   OTW_LOADFONT
   GCLIP 1,0,0,400,240
@@ -542,6 +590,8 @@
   SPOFS OTW_MOUSESP,OTW_MOUSEX,OTW_MOUSEY,-256
   SPHOME OTW_MOUSESP,0,0
   SPCOL 0,0,0,1,1
+  CLS
+  LOCATE 0,29
  ENDIF
 RETURN
 END
@@ -577,14 +627,46 @@
    
   ENDIF
  ENDIF
+ IF BUTTON()AND 64THEN DUMP_WND
  OTW_OLDMOUSEX=OTW_MOUSEX
  OTW_OLDMOUSEY=OTW_MOUSEY
- VOID UpdateWindow(TSTWND)
  VOID UpdateWindow(WIN_ROOTWND)
  VOID UpdateWindow(TSTWND2)
+ VOID UpdateWindow(TSTWND)
+' VOID UpdateWindow(TSTWND3)
 ' ExitProcess 1
 RETURN
 END
+
+DEF DUMP_WND
+ DUMP_WND2 WIN_ROOTWND AND NUWIDMASK,""
+END
+DEF DUMP_WND2 NUW,I$
+ IF!NUW THEN RETURN
+ ?I$;WIN_NAME$[NUW],NUW,WIN_WID[NUW]
+' IF CSRY==29 THEN VAR II$INPUT "";II$
+ DUMP_WND2 WIN_NEXT[NUW],I$
+ IF LEN(I$) THEN
+  VAR NM$=""
+  IF WIN_NEXT[NUW] THEN
+   NM$=""
+  ELSE
+   NM$=""
+  ENDIF
+  IF WIN_NEXT[WIN_PARENT[NUW]]THEN
+   NM$=""+NM$
+  ELSE
+   NM$=" "+NM$
+  ENDIF
+  DUMP_WND2 WIN_CHILD[NUW],MID$(I$,0,LEN(I$)-1)+NM$
+ ELSE
+  IF WIN_CHILD[NUW]THEN
+   DUMP_WND2 WIN_CHILD[NUW],""
+  ELSE
+   DUMP_WND2 WIN_CHILD[NUW],""
+  ENDIF
+ ENDIF
+END
 DEF UpdateButton()
  VAR B=BUTTON()
  VAR RET=0
